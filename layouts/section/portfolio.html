{{ partial "header.html" . }}

<main id="content">
	<h1 class="post-title">Portfolio</h1>
	
	{{ range .Data.Pages.GroupByParam "technology" }}
		<h2>{{ .Key | title }}</h2>
		{{ $total := len .Pages }}
		{{ range $index, $page := .Pages.ByTitle }}
	        	{{ $col := add (mod $index 3) 1 }}
				{{ if eq $col 1 }}
					<div class="section group"><!-- new row -->
						{{ .Render "li" }}
						{{ if eq (add $index 1) $total }}
							</div><!-- end of row -->
						{{ end }}
				{{ else if eq $col 2 }}
						{{ .Render "li" }}
					{{ if eq (add $index 1) $total }}
						</div><!-- end of row -->
					{{ end }}
				{{ else if eq $col 3 }}
						{{ .Render "li" }}
					</div><!-- end of row -->
				{{ end }}
	    {{ end }}
	{{end}}
	
</main>

{{ partial "footer.html" . }}