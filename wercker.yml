build:
  box: centurylink/ruby-base
  steps:
    - install-packages:
        packages: git curl openjdk-7-jre build-essential
    - script:
        name: initialize git submodules
        code: |
            git submodule update --init --recursive
    - arjen/hugo-build:
        version: "0.14"
        theme: crisp
    - samueldebruyn/minify
    - kyleboyle/html-proofer-test:
        version: "2.3.0"
        basedir: public
        arguments: --check-external-hash --only-4xx
deploy:
  box: switchback/git-debian
  steps:
    - leipert/git-push:
        gh_oauth: $GIT_TOKEN
        basedir: public
        clean_removed_files: true
        branch: master
        repo: SamuelDebruyn/samueldebruyn.github.io
        gh_pages_domain: sa.muel.be
